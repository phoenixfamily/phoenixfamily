{% load static %}
{% load i18n %}
<!DOCTYPE html>

<html lang="{{ LANGUAGE_CODE }}" dir="{% if LANGUAGE_BIDI %}rtl{% else %}ltr{% endif %}">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ seo_title|default:"PhoenixFamily" }}</title>
    <meta name="description" content="{{ seo_description }}">
    <meta name="keywords" content="{{ seo_keywords }}">
    <meta name="robots" content="index, follow">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="icon" href="{% static 'images/logo.png' %}" type="image/x-icon">
    <link rel="canonical" href="{{ canonical_url|default:request.build_absolute_uri }}">
    <meta property="og:title" content="{{ seo_title|default:"PhoenixFamily" }}">
    <meta property="og:description" content="{{ seo_description }}">
    <meta property="og:image" content="{% static 'images/logo.png' %}">
    <meta property="og:url" content="{{ canonical_url|default:request.build_absolute_uri }}">
    <meta name="twitter:title" content="{{ seo_title|default:"PhoenixFamily" }}">
    <meta name="twitter:description" content="{{ seo_description }}">
    <meta name="twitter:image" content="{% static 'images/logo.png' %}">


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/4a2a05a158.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>

    </style>

    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "PhoenixFamily",
    "url": "https://phoenixfamily.co",
    "logo": "https://phoenixfamily.co/media/images/logo.png"
    }
    </script>


    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WTMWZHKD23"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-WTMWZHKD23');
    </script>

    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start':
                new Date().getTime(), event: 'gtm.js'
        });
        let f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l !== 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-KG2BJLP7');</script>
    <!-- End Google Tag Manager -->

</head>
<body>

<header>
    <nav class="navbar navbar-expand-lg shadow-sm">
        <div class="container">

            <a class="navbar-brand" href="//phoenixfamily.co">
                <img src="{{ About.logo.url }}" alt="{% trans 'Logo' %}" class="d-inline-block align-text-top">
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="{% trans 'Toggle navigation' %}">
                <i class="fa-solid fa-bars custom-toggler"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                {% block header %}

                {% endblock %}
            </div>
        </div>
    </nav>
</header>

<!-- محتوای متغیر -->
<div id="content">
    {% block content %}
    {% endblock %}
</div>

<footer>
    <div class="container py-4">
        {% block footer %}


        {% endblock %}

        <!-- کپی‌رایت -->
        <div class="row mt-4">
            <div class="col-12 text-center">
                <p class="mb-0 copyright">
                    &copy; 2024 PhoenixFamily. {% trans "All rights reserved." %}
                </p>
            </div>
        </div>
    </div>
</footer>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const themeSwitch = document.getElementById("theme-switch");
        const sunIcon = document.getElementById("sun-icon");
        const moonIcon = document.getElementById("moon-icon");

        const isDark = localStorage.getItem("theme") === "dark";

        // تغییر تم و نمایش آیکون‌ها
        if (isDark) {
            document.body.classList.add("dark-mode");
            sunIcon.style.display = "none";
            moonIcon.style.display = "inline";
        } else {
            document.body.classList.remove("dark-mode");
            sunIcon.style.display = "inline";
            moonIcon.style.display = "none";
        }

        themeSwitch.checked = isDark;

        themeSwitch.addEventListener("change", function () {
            const isDark = this.checked;
            document.body.classList.toggle("dark-mode", isDark);

            if (isDark) {
                sunIcon.style.display = "none";
                moonIcon.style.display = "inline";
            } else {
                sunIcon.style.display = "inline";
                moonIcon.style.display = "none";
            }

            localStorage.setItem("theme", isDark ? "dark" : "light");
        });
        console.log(localStorage.getItem("theme"));
        console.log(document.documentElement.classList);

    });
</script>

</body>

<!-- Google Tag Manager (noscript) -->
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KG2BJLP7"
            height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->

</html>
